<!DOCTYPE html>
<html>
    <head>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <style>
            table{
                /* border: 1px solid black; */
                border-collapse: collapse;
            }
            td,th{
                border: 1px solid  black;
            }
        </style>
    </head>
    <body>
        <h1 id="x">hello it sis working!</h1>
        <table id = "tabledata">
            <thead>
                <tr>
                    <th>First Name</th>
                    <th>Last Name</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
        <script>
     $(document).ready(function(){
        $.ajax({
        type: 'POST',
        url: 'http://127.0.0.1:5001/welcome',
        dataType:"json", //to parse string into JSON object,
        success: function(data){
            console.log(data); 
            if(data){
                // var len = data.length;
                // var txt = "";
                // if(len > 0){
                //     for(var i=0;i<len;i++){
                //         if(data[i].city && data[i].cStatus){
                //             txt += "<tr><td>"+data[i].city+"</td><td>"+data[i].cStatus+"</td></tr>";
                //         }
                //     }
                //     if(txt != ""){
                //         $("#table").append(txt).removeClass("hidden");
                //     }
                // }
                //datalen = data.length;
                objectLenght = Object.keys(data).length; 
                var txt = "";
                if(objectLenght>0){
                //console.log(data);
                txt = "<tr><td>"+data.message.x+"</td><td>"+data.message.y+"</td></tr>";
                $("#tabledata tbody").html(txt);
                }
            }
        },
        error: function(jqXHR, textStatus, errorThrown){
            alert('error: ' + textStatus + ': ' + errorThrown);
        }
        })
     });
        
   // return false;//suppress natural form submission

        //      fetch('http://127.0.0.1:5001/hello')
        //     .then(function (response) {
        //         return response.text();
        //     })
        //     .then(function (data) {
        //         appendData(data);
        //     })
        //     .catch(function (err) {
        //         console.log('error: ' + err);
        //     });
        //    function appendData(data){
        //      maindata = document.getElementById('x');
        //     var newdiv = document.createElement("h1");
        //     //newdiv.innerHTML = "hey hai"+" "+data;
        //     $(newdiv).html("hey ravi"+" "+data);
        //     maindata.appendChild(newdiv);
        //      console.log(data);
        //     }
        // $(document).ready(function(){
        //         $.ajax({
        //                 url: "http://127.0.0.1:5001/hello",
        //                 type: 'GET',
        //                 dataType: 'text',
        //                 success: function(res) {
        //                     $('#x').html(res);
        //                     console.log(res);
        //                 }
        //             });

        //      })
        </script>
    </body>
</html>